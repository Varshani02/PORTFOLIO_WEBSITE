/* =========================
   THEME & TOKENS
========================= */
:root{
  --grad: linear-gradient(90deg, #8b5cf6 0%, #4da3ff 35%, #22d1f9 65%, #d36ad8 100%);
  --bg: #000000;
  --text: #ffffff;
  --muted: #ffffffcc;
  --surface: rgba(255,255,255,0.05);
  --border: rgba(255,255,255,0.16);
  --divider: rgba(255,255,255,0.18);
  --shadow: rgba(0,0,0,0.35);
  --left-offset: clamp(96px, 16vw, 340px);
  --max-hero: 880px;
}
:root[data-theme="light"]{
  --bg: #ffffff;
  --text: #111111;
  --muted: #000000b3;
  --surface: rgba(0,0,0,0.03);
  --border: rgba(0,0,0,0.14);
  --divider: rgba(0,0,0,0.12);
  --shadow: rgba(0,0,0,0.15);
}
*{ box-sizing: border-box; }
html, body { height: 100%; }
html { scroll-behavior: smooth; }
body{
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Utility: gradient text */
.gradient-text{
  background: var(--grad);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* =========================
   PANELS
========================= */
.panel{ display: none; }
.panel.active{ display: block; }

/* =========================
   HOME / HERO
========================= */
.page{ min-height: 100svh; display: flex; align-items: center; }
.hero{ margin-left: var(--left-offset); max-width: var(--max-hero); }
.name{
  margin: 0 0 12px 0;
  font-weight: 900;
  letter-spacing: .4px;
  font-size: clamp(52px, 7.2vw, 92px);
}
.name-link{ text-decoration: none; color: var(--text); }

/* Tagline */
.tagline{
  margin: 0 0 22px 0;
  display: flex;
  align-items: baseline;
  gap: 8px;
  font-size: clamp(20px, 2.6vw, 30px);
}
.muted{ color: var(--muted); }

/* typing */
.typing-wrapper{ position:relative; display:inline-flex; align-items:baseline; min-width:22ch; white-space:nowrap; }
.typing{ display:inline-block; white-space:nowrap; background:var(--grad); -webkit-background-clip:text; background-clip:text; color:transparent; }
.caret{ width:1ch; margin-left:2px; border-right:2px solid currentColor; animation: blink 1s steps(1) infinite; }
@keyframes blink { 50% { border-color: transparent; } }

/* =========================
   NAV (desktop inline)
========================= */
.nav{
  margin-top: 8px;
  display: flex;
  gap: clamp(16px, 3.4vw, 36px);
  flex-wrap: wrap;
}
.nav a{
  position: relative;
  color: var(--text);
  text-decoration: none;
  font-weight: 700;
  font-size: clamp(18px, 2.1vw, 26px);
  padding: 8px 2px;
  transition: opacity .15s ease, -webkit-text-fill-color .15s ease;
}
.nav a::after{
  content: "";
  position: absolute;
  left: 0;
  bottom: -6px;
  width: 42%;
  height: 2px;
  background: var(--grad);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform .18s ease-in-out;
  pointer-events: none;
}
.nav a:hover,
.nav a:focus,
.nav a.active{
  background: var(--grad);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  -webkit-text-fill-color: transparent;
}
.nav a:hover::after,
.nav a:focus::after,
.nav a.active::after{ transform: scaleX(1); }

/* =========================
   ICON BUTTONS
========================= */
.toolbar{ margin:22px 0 0; display:flex; gap:14px; }
.icon-btn{
  --size:46px;
  width:var(--size); height:var(--size);
  border-radius:12px;
  display:inline-flex; align-items:center; justify-content:center;
  text-decoration:none; color:var(--text); position:relative;
  background:var(--bg);
  border:2px solid transparent;
  background-image:linear-gradient(var(--bg), var(--bg)), var(--grad);
  background-origin:border-box; background-clip:padding-box, border-box;
  transition: transform .15s ease, box-shadow .2s ease;
}
.icon-btn i{ font-size:20px; }
.icon-btn::before{ display:none; }
.icon-btn:hover{ transform:translateY(-2px); box-shadow:0 10px 22px var(--shadow); }

/* =========================
   TOP BARS
========================= */
.panel-topbar{ width:100%; background:var(--bg); border-bottom:1px solid var(--divider); }
.topbar-inner{
  margin-left: var(--left-offset);
  max-width: min(1200px, calc(100% - var(--left-offset) - 24px));
  padding: 16px 0;
  display:flex; align-items:center; justify-content:space-between;
}
.brand{ font-weight:900; letter-spacing:.5px; font-size:clamp(24px, 3vw, 36px); text-decoration:none; color:var(--text); }

/* Theme toggle (desktop & default) */
.theme-toggle{
  position: fixed;
  right: 16px; top: 14px; z-index: 2000;
  width: 44px; height: 44px;
  border-radius: 12px;
  border: 2px solid transparent;
  background-image: linear-gradient(var(--bg), var(--bg)), var(--grad);
  background-origin: border-box; background-clip: padding-box, border-box;
  color: var(--text);
  display: grid; place-items: center;
  box-shadow: 0 8px 20px var(--shadow);
  cursor: pointer;
}

/* =========================
   GENERIC SECTIONS
========================= */
.section{
  padding: 28px 0 24px;
  margin-left: var(--left-offset);
  max-width: min(1200px, calc(100% - var(--left-offset) - 24px));
}
.section-head{ display:flex; align-items:center; gap:16px; margin:18px 0; }
.section-title{ margin:0; letter-spacing:2px; font-weight:900; font-size:14px; }
.section-rule{ flex:0 0 220px; height:2px; background:var(--divider); border-radius:1px; }

#experience .section > .section-head:nth-of-type(n+2){
  margin-top: clamp(36px, 4.5vw, 56px) !important;
  margin-bottom: 16px !important;
}

/* =========================
   ABOUT
========================= */
.about-grid{
  display:grid; grid-template-columns:320px 1fr;
  gap:28px 36px; align-items:start;
}
.about-photo img{
  width:100%; height:auto; border-radius:12px;
  box-shadow:0 12px 28px var(--shadow);
  border:1px solid var(--border); object-fit:cover;
}
.about-blurb{ margin:0 0 16px 0; line-height:1.6; font-size:clamp(15px, 1.4vw, 18px); }
.about-blurb strong{ font-weight:800; }
.triad{ display:inline-block; margin-left:6px; font-style:normal; font-weight:700; background:var(--grad); -webkit-background-clip:text; background-clip:text; color:transparent; }
.kv-list{ list-style:none; margin:0 0 10px 0; padding:0; }
.kv-list li{ position:relative; padding-left:18px; margin:10px 0; font-size:clamp(14px, 1.3vw, 17px); }
.kv-list li::before{ content:""; width:6px; height:6px; background:var(--grad); border-radius:50%; position:absolute; left:0; top:10px; }
.kv-list .k{ font-weight:800; }
.kv-list .v{ opacity:.9; }
.meta-row{ display:grid; grid-template-columns:repeat(2, minmax(220px, 1fr)); gap:10px 26px; margin-top:12px; }
.meta{ display:flex; align-items:center; gap:10px; font-weight:700; }
.meta i{ background:var(--grad); -webkit-background-clip:text; color:transparent; }
.link{ color:var(--text); text-decoration:none; position:relative; }
.link::after{ content:""; position:absolute; left:0; bottom:-3px; width:60%; height:2px; background:var(--grad); transform:scaleX(0); transform-origin:left; transition:transform .15s ease; pointer-events:none; }
.link:hover{ background:var(--grad); -webkit-background-clip:text; background-clip:text; color:transparent; -webkit-text-fill-color:transparent; }
.link:hover::after{ transform:scaleX(1); }

/* =========================
   INTERESTS
========================= */
.interests-head{ margin-top:24px; }
.interests-grid{ margin-top:12px; display:grid; grid-template-columns:repeat(4, minmax(220px,1fr)); gap:18px 24px; }
.interest-card{
  display:flex; align-items:center; gap:14px; padding:18px; border-radius:12px; color:var(--text);
  background:var(--bg); border:1.5px solid transparent;
  background-image:linear-gradient(var(--bg), var(--bg)), var(--grad);
  background-clip:padding-box, border-box; background-origin:border-box;
  position:relative; transition:transform .15s ease, box-shadow .2s ease;
}
.interest-card::before{ display:none; }
.interest-card:hover{ transform:translateY(-2px); box-shadow:0 10px 22px var(--shadow); }

/* =========================
   PROJECTS / EXPERIENCE
========================= */
.projects-grid{ display:grid; grid-template-columns:1fr; gap:18px; }
.project-card{
  text-align:left; width:100%; padding:20px 22px; border-radius:16px; color:var(--text); cursor:pointer; position:relative;
  background:var(--bg); border:1.5px solid transparent; background-image:linear-gradient(var(--bg), var(--bg)), var(--grad); background-clip:padding-box, border-box;
  transition:transform .15s ease, box-shadow .2s ease;
}
.project-card::before{ display:none; }
.project-card:hover{ transform:translateY(-2px); box-shadow:0 12px 26px var(--shadow); }
.pc-title{ font-weight:800; font-size:clamp(18px, 2vw, 22px); margin-bottom:6px; }
.pc-label{ font-weight:800; }
.pc-skills{ opacity:.95; }
.xp-meta{ opacity:.9; margin:2px 0 6px; }

/* =========================
   MODAL
========================= */
.project-modal[aria-hidden="true"]{ display:none; }
.project-modal{ position:fixed; inset:0; z-index:1500; }
.project-modal__backdrop{ position:absolute; inset:0; background:rgba(0,0,0,0.55); pointer-events:auto; }
:root[data-theme="light"] .project-modal__backdrop{ background:rgba(0,0,0,0.35); }
.project-modal__dialog{
  position:relative; width:min(920px,92vw); max-height:86svh; margin:6vh auto 0; border-radius:18px; border:1.5px solid transparent;
  background-image:linear-gradient(var(--bg), var(--bg)), var(--grad); background-clip:padding-box, border-box; box-shadow:0 20px 48px var(--shadow); overflow:hidden;
}
.project-modal__close{
  position:absolute; right:12px; top:10px; width:40px; height:40px; border-radius:10px; border:2px solid transparent;
  background-image:linear-gradient(var(--bg), var(--bg)), var(--grad); background-clip:padding-box, border-box; color:var(--text); font-size:22px; cursor:pointer;
}
.project-modal__content{ padding:22px 24px; overflow:auto; max-height:86svh; background:var(--bg); color:var(--text); }
.story-title{ margin:0 0 6px 0; font-size:24px; font-weight:900; }
.story p{ line-height:1.6; margin:10px 0; }
.story h4{ margin:18px 0 8px; font-size:16px; font-weight:900; }
.skills-bullets{ padding-left:20px; margin:0; }
.skills-bullets li{ margin:6px 0; font-weight:700; position:relative; }
.skills-bullets li::marker{ color:transparent; }
.skills-bullets li::before{ content:""; width:8px; height:8px; background:var(--grad); border-radius:50%; position:absolute; left:-18px; top:8px; }

/* =========================
   CLICK SAFETY
========================= */
.nav a::after, .icon-btn::before, .interest-card::before, .project-card::before{ pointer-events:none; }
.panel-topbar, .topbar-inner, .nav{ position:relative; z-index:10; }

/* =========================
   RESPONSIVE (existing)
========================= */
@media (max-width:1050px){ .about-grid{ grid-template-columns:260px 1fr; } }
@media (max-width:820px){
  .hero{ margin-left:clamp(24px, 8vw, 60px); }
  .topbar-inner, .section{
    margin-left: clamp(24px, 8vw, 60px);
    max-width: calc(100% - clamp(24px, 8vw, 60px) - 16px);
  }
  .about-grid{ grid-template-columns:1fr; }
  .about-photo{ order:-1; max-width:420px; }
}
@media (max-width:420px){
  .name{ font-size:clamp(40px, 12vw, 72px); }
  .nav a{ font-size:16px; }
  .project-modal__dialog{ width:92vw; max-height:88svh; }
}

/* =========================
   PROJECTS / EXPERIENCE gutters
========================= */
#projects > .panel-topbar .topbar-inner,
#projects > .section{
  margin-left: var(--left-offset) !important;
  max-width: min(1200px, calc(100% - var(--left-offset) - 24px)) !important;
  padding-right: 8px !important;
}
#projects .section > .section-head:nth-of-type(n+2){
  margin-top: clamp(36px, 4.5vw, 56px) !important;
  margin-bottom: 16px !important;
}
@media (max-width:820px){
  #projects > .panel-topbar .topbar-inner,
  #projects > .section{
    margin-left: clamp(24px, 8vw, 60px) !important;
    max-width: calc(100% - clamp(24px, 8vw, 60px) - 16px) !important;
  }
}

/* EXPERIENCE gutters */
#experience > .panel-topbar .topbar-inner,
#experience > .section{
  margin-left: var(--left-offset) !important;
  max-width: min(1200px, calc(100% - var(--left-offset) - 24px)) !important;
  padding-right: 8px !important;
}
@media (max-width:820px){
  #experience > .panel-topbar .topbar-inner,
  #experience > .section{
    margin-left: clamp(24px, 8vw, 60px) !important;
    max-width: calc(100% - clamp(24px, 8vw, 60px) - 16px) !important;
  }
}

/* =========================
   CONTACT
========================= */
.contact-grid{
  margin-top: 16px;
  display: grid;
  grid-template-columns: 1.1fr 1fr;
  gap: 18px;
}
.contact-card{
  padding: 20px 22px; border-radius: 16px; color: var(--text);
  background: var(--bg); border: 1.5px solid transparent;
  background-image: linear-gradient(var(--bg), var(--bg)), var(--grad);
  background-clip: padding-box, border-box;
  transition: transform .15s ease, box-shadow .2s ease;
}
.contact-card:hover{ transform: translateY(-2px); box-shadow: 0 12px 26px var(--shadow); }
.contact-social{ grid-row: span 2; }
.contact-row{ display:flex; gap:14px; align-items:center; }
.contact-icon{
  width:54px; height:54px; border-radius:50%; display:grid; place-items:center;
  background:var(--surface); border:1.5px solid var(--border); font-size:20px;
}
.contact-title{ font-weight:900; font-size:clamp(18px, 1.8vw, 22px); }
.contact-text{ opacity:.95; }
.contact-soc-list{ display:flex; gap:12px; margin-top:12px; }
.contact-soc{
  width:46px; height:46px; border-radius:50%; display:grid; place-items:center; color:var(--text); text-decoration:none;
  background:var(--bg); border:1.5px solid transparent; background-image:linear-gradient(var(--bg), var(--bg)), var(--grad);
  background-clip:padding-box, border-box; transition:transform .15s ease, box-shadow .2s ease;
}
.contact-soc:hover{ transform:translateY(-2px); box-shadow:0 10px 22px var(--shadow); }
@media (max-width:900px){ .contact-grid{ grid-template-columns:1fr; } .contact-social{ grid-row:auto; } }

/* CONTACT theme overrides */
.contact-title{ background:none !important; -webkit-background-clip:initial !important; background-clip:initial !important; -webkit-text-fill-color:initial !important; color:#111 !important; }
.contact-card .contact-text, .contact-card .link{ color:#111 !important; }
.contact-card .link:hover{ background:none !important; -webkit-background-clip:initial !important; -webkit-text-fill-color:initial !important; color:#111 !important; }
.contact-icon{ border:2px solid transparent !important; background-image:linear-gradient(var(--bg), var(--bg)), var(--grad) !important; background-origin:border-box !important; background-clip:padding-box, border-box !important; background-color:var(--bg) !important; }
.contact-icon i{ color:#111 !important; }
:root[data-theme="dark"] .contact-card .contact-title,
:root[data-theme="dark"] .contact-card .contact-text,
:root[data-theme="dark"] .contact-card .link,
:root[data-theme="dark"] .contact-icon i{ color:#fff !important; }
:root[data-theme="dark"] .contact-card .link:hover{ color:#fff !important; background:none !important; -webkit-background-clip:initial !important; -webkit-text-fill-color:initial !important; }
:root[data-theme="dark"] .contact-icon,
:root[data-theme="light"] .contact-icon{ border:2px solid transparent !important; background-image:linear-gradient(var(--bg), var(--bg)), var(--grad) !important; background-origin:border-box !important; background-clip:padding-box, border-box !important; background-color:var(--bg) !important; }

/* =========================
   **MOBILE NAV (phones only)
========================= */

/* hidden on desktop */
.m-header{ display:none; }

@media (max-width:820px){
  /* Hide section topbars so you don't get a second header */
  .panel-topbar{ display: none !important; }

  /* Compact mobile header (brand + hamburger + theme) */
  .m-header{
    position: sticky; top: 0; z-index: 2200;
    display:flex; align-items:center;
    padding: 12px 16px;
    background: var(--bg);
    border-bottom: 1px solid var(--divider);
  }
  .m-header .brand{ font-weight:900; letter-spacing:.5px; font-size:24px; text-decoration:none; color:var(--text); }

  /* Hide inline navs, hamburger handles nav */
  .nav, .topbar-inner .topnav{ display:none !important; }

  /* Keep content nicely inset on phones */
  .hero, .topbar-inner, .section{
    margin-left: clamp(16px, 6vw, 32px) !important;
    max-width: calc(100% - clamp(16px, 6vw, 32px) - 16px) !important;
  }

  /* Hamburger */
  .mnav-checkbox{ position:absolute; opacity:0; pointer-events:none; }
  .hamburger{
    margin-left:auto;              /* pushes it to the right */
    position:relative;
    width:28px; height:22px; cursor:pointer;
    margin-right:56px;             /* <<< space for theme toggle bubble */
  }
  .hamburger span{
    position:absolute; left:0; width:22px; height:3px; background:var(--text); border-radius:3px;
    transition: transform .25s ease, opacity .2s ease, top .25s ease;
  }
  .hamburger span:nth-child(1){ top:2px; }
  .hamburger span:nth-child(2){ top:9px; }
  .hamburger span:nth-child(3){ top:16px; }

  /* Put the theme toggle beside the hamburger (no overlap) */
  .theme-toggle{
    position: fixed;                  /* stays pinned on scroll */
    right: 12px;
    top: calc(10px + env(safe-area-inset-top));
    width: 40px; height: 40px;
    z-index: 3000;                    /* above header/drawer */
  }

  /* Drawer */
  .mnav-drawer{
    position: fixed;
    top: calc(56px + env(safe-area-inset-top)); right: 12px;
    width: 200px; max-width: calc(100vw - 24px);
    background: var(--bg); color: var(--text);
    border: 1px solid var(--border); border-radius: 12px;
    box-shadow: 0 16px 32px var(--shadow);
    transform: translateY(-8px); opacity: 0; pointer-events: none;
    transition: opacity .18s ease, transform .18s ease;
    z-index: 2200;
  }
  .mnav-drawer ul{ list-style:none; margin:6px 0; padding:6px 0; }
  .mnav-drawer li{ margin:0; }
  .mnav-drawer a{ display:block; padding:10px 14px; text-decoration:none; color:var(--text); font-weight:700; }
  .mnav-drawer a:hover{ background: var(--surface); }

  /* open → X */
  .mnav-checkbox:checked ~ .hamburger span:nth-child(1){ top:10px; transform:rotate(45deg); }
  .mnav-checkbox:checked ~ .hamburger span:nth-child(2){ opacity:0; }
  .mnav-checkbox:checked ~ .hamburger span:nth-child(3){ top:10px; transform:rotate(-45deg); }
  .mnav-checkbox:checked ~ .mnav-drawer{ opacity:1; transform:translateY(0); pointer-events:auto; }

  /* small text tweaks */
  .about-blurb{ font-size: clamp(16px, 4vw, 18px); }
  .meta-row{ grid-template-columns:1fr; }
  .interests-grid{ grid-template-columns:1fr 1fr; }
  @media (max-width:520px){ .interests-grid{ grid-template-columns:1fr; } }

  /* avoid header overlap when jumping with hash */
  #about, #projects, #experience, #contact{ scroll-margin-top: 88px; }
}
